"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const e=require("react"),p=require("overlayscrollbars"),O=()=>{if(typeof window>"u"){const n=()=>{};return[n,n]}let a,o;const t=window,s=typeof t.requestIdleCallback=="function",u=t.requestAnimationFrame,i=t.cancelAnimationFrame,c=s?t.requestIdleCallback:u,f=s?t.cancelIdleCallback:i,l=()=>{f(a),i(o)};return[(n,r)=>{l(),a=c(s?()=>{l(),o=u(n)}:n,typeof r=="object"?r:{timeout:2233})},l]},S=a=>{const{options:o,events:t,defer:s}=a||{},[u,i]=e.useMemo(O,[]),c=e.useRef(null),f=e.useRef(s),l=e.useRef(o),n=e.useRef(t);return e.useEffect(()=>{f.current=s},[s]),e.useEffect(()=>{const{current:r}=c;l.current=o,p.OverlayScrollbars.valid(r)&&r.options(o||{},!0)},[o]),e.useEffect(()=>{const{current:r}=c;n.current=t,p.OverlayScrollbars.valid(r)&&r.on(t||{},!0)},[t]),e.useEffect(()=>()=>{var r;i(),(r=c.current)==null||r.destroy()},[]),e.useMemo(()=>[r=>{const y=c.current;if(p.OverlayScrollbars.valid(y))return;const d=f.current,b=l.current||{},m=n.current||{},v=()=>c.current=p.OverlayScrollbars(r,b,m);d?u(v,d):v()},()=>c.current],[])},E=(a,o)=>{const{element:t="div",options:s,events:u,defer:i,children:c,...f}=a,l=t,n=e.useRef(null),r=e.useRef(null),[y,d]=S({options:s,events:u,defer:i});return e.useEffect(()=>{const{current:b}=n,{current:m}=r;if(!b)return;const v=b;return y(t==="body"?{target:v,cancel:{body:null}}:{target:v,elements:{viewport:m,content:m}}),()=>{var R;return(R=d())==null?void 0:R.destroy()}},[y,t]),e.useImperativeHandle(o,()=>({osInstance:d,getElement:()=>n.current}),[]),e.createElement(l,{"data-overlayscrollbars-initialize":"",ref:n,...f},t==="body"?c:e.createElement("div",{"data-overlayscrollbars-contents":"",ref:r},c))},I=e.forwardRef(E);exports.OverlayScrollbarsComponent=I;exports.useOverlayScrollbars=S;
//# sourceMappingURL=overlayscrollbars-react.cjs.map
